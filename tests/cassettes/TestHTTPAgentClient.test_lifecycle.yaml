interactions:
  - request:
      body: ""
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: GET
      uri: http://testserver/info
    response:
      body:
        string: '{"agent_type":"SimpleAgent"}'
      headers:
        content-length:
          - "28"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '[{"type":"function","info":{"name":"print_story","description":"Print a
        story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}]'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "624"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/init_state
    response:
      body:
        string:
          '{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false}'
      headers:
        content-length:
          - "720"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages":[{"role":"user","content":"Cast ''5.5'' to a float, then to
        an integer, and finally use it to write a story of that many words."}],"model":"gpt-4o-2024-11-20","n":1,"temperature":0.1,"tool_choice":"required","tools":[{"type":"function","function":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "863"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.63.0
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.63.0
        x-stainless-raw-response:
          - "true"
        x-stainless-read-timeout:
          - "120.0"
        x-stainless-retry-count:
          - "0"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.7
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//jFNRa9swEH73rxD3nBTbdZbMby2UdmGUPaSD0QyjyGdHnSwJ6bwlhPz3
          YTu1nSyD+sGI++6+7+7T6RAwBjKHlIHYchKVVdP7WEd33x/1c7GoEXez+5e3P3r/NLtbfnsOYdJU
          mM0bCnqvuhGmsgpJGt3BwiEnbFijeRKGYTJfhC1QmRxVU1ZamiZmGodxMo2iaXziFVsjBXpI2WvA
          GGOH9t+0qHPcQcpamjZSofe8REj7JMbAGdVEgHsvPXFNMBlAYTShbrrWtVIjgIxRmeBKDcLddxid
          B5+4UtmP1cti9UDFxi9Xywf1pBR9uV2ZryO9jnpv24aKWovenxHex9MLMcZA8wo7QU9ZoQyni2rG
          gLuyrlBT0zkc1rBbQ7qG2c1sDUc4Sz4G184/RzY4LGrP1cmfU/zYG65MaZ3Z+Av/oJBa+m3mkPt2
          jrGdwbtaqwP12Y2BdaaylJH5hbqhjeLPHSsMCzVC5yeQDHE1iiefJlf4shyJy/ZK+y0SXGwxH0qH
          beJ1Ls0ICEaz/9vNNe5ufqnLj9APgBBoCfPMOsylOJ94SHPYvLf/pfUutw2DR/dbCsxIomvuI8eC
          16pbHvB7T1hlhdQlOutk+x6gsNlcREUsUIhbCI7BXwAAAP//AwAW9+DiGAQAAA==
      headers:
        CF-RAY:
          - 9149c1134fa89e70-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Wed, 19 Feb 2025 22:39:40 GMT
        Server:
          - cloudflare
        Set-Cookie:
          - __cf_bm=CplDfXNSMeB_W_omIm9jlExwihb9Js5rO_Lnu_XwumQ-1740004780-1.0.1.1-qGa4t0BYlRYKG_QjxUPaRIF0wYWGpoP2GnKglOGhFxAdyWVgD.FkR1Zr51dMM8NaqOzsEfUwTLppjXSvnhdjhw;
            path=/; expires=Wed, 19-Feb-25 23:09:40 GMT; domain=.api.openai.com; HttpOnly;
            Secure; SameSite=None
          - _cfuvid=Lcks9pplSt_WzWLGIXc9Ji2TuhyQCZ9s5Rk6CkFPwpQ-1740004780743-0.0.1.1-604800000;
            path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        cf-cache-status:
          - DYNAMIC
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "566"
        openai-version:
          - "2020-10-01"
        strict-transport-security:
          - max-age=31536000; includeSubDomains; preload
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999958"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_1384580ce96868d0f6328a9db19fdefa
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state":{"tools":[{"type":"function","info":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false},"obs":[{"role":"user","content":"Cast
        ''5.5'' to a float, then to an integer, and finally use it to write a story
        of that many words."}],"training":false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "876"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"8485f1db-b2f4-4965-a3ac-e005d9e48d9f","fwd_id":"18467316-cb4d-4d68-8efa-e9f05fd9c08c"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_YTU8TEtfbsJTJElHlltI3ToL","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},"logprob":null},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_YTU8TEtfbsJTJElHlltI3ToL","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},0.0]'
      headers:
        content-length:
          - "1445"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages":[{"role":"user","content":"Cast ''5.5'' to a float, then to
        an integer, and finally use it to write a story of that many words."}],"model":"gpt-4o-2024-11-20","n":1,"temperature":0.1,"tool_choice":"required","tools":[{"type":"function","function":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "863"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.63.0
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.63.0
        x-stainless-raw-response:
          - "true"
        x-stainless-read-timeout:
          - "120.0"
        x-stainless-retry-count:
          - "0"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.7
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//jFPBjpswEL3zFdacwwoo27TcdkVz4lC16qmpkNcewFtjW7ZpE0X59wrI
          gpOmUjkga97MezPP41NECAgOBQHWUc96I+PnTKVPef+UNWX3qWRDXj3TkvIdF7+/VLAZK/TLKzL/
          VvXAdG8keqHVDDOL1OPImm7zJEny7YdkAnrNUY5lrfFxruMsyfI4TeMsuRR2WjB0UJDvESGEnKb/
          2KLieICCTDRTpEfnaItQLEmEgNVyjAB1TjhPlYfNCjKtPKqxazVIGQBea1kzKuUqPH+n4Lz6RKWs
          j11ZVuqbej0ceCWSz9mu31Vp9jXQm6mPZmqoGRRb/AnwJV7ciBECivY4CzpfN1JTf1NNCFDbDj0q
          P3YOpz0c9lDs4fHhcQ9nuEo+R/fOPwIbLDaDo/LizyV+XgyXujVWv7gb/6ARSriutkjdNEdoZ/Sm
          NunAcHVjYKzuja+9/olqpE2zjzMrrAsVoNsL6LWnMojn7zd3+GqOnorpSpctYpR1yNfSdZvowIUO
          gCiY/e9u7nHP8wvV/g/9CjCGxiOvjUUu2PXEa5rF8b39K21xeWoYHNpfgmHtBdrxPjg2dJDz8oA7
          Oo993QjVojVWTO8BGlNvWdpkDBl7B9E5+gMAAP//AwDi9DL+GAQAAA==
      headers:
        CF-RAY:
          - 9149c1182ce79e70-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Wed, 19 Feb 2025 22:39:41 GMT
        Server:
          - cloudflare
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        cf-cache-status:
          - DYNAMIC
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "320"
        openai-version:
          - "2020-10-01"
        strict-transport-security:
          - max-age=31536000; includeSubDomains; preload
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999958"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_98cd4b8a2288d096cf300716655ae7b4
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state":{"tools":[{"type":"function","info":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false},"obs":[{"role":"user","content":"Cast
        ''5.5'' to a float, then to an integer, and finally use it to write a story
        of that many words."}],"training":false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "876"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"6eb4b547-31ea-4227-a147-c5cecb795992","fwd_id":"a1b57c3b-4446-40b7-8541-449f9f6d613a"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_yhDDLnUnjxxdLi0P2FmFL12S","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},"logprob":null},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_yhDDLnUnjxxdLi0P2FmFL12S","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},0.0]'
      headers:
        content-length:
          - "1445"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages":[{"role":"user","content":"Cast ''5.5'' to a float, then to
        an integer, and finally use it to write a story of that many words."}],"model":"gpt-4o-2024-11-20","n":1,"temperature":0.1,"tool_choice":"required","tools":[{"type":"function","function":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "863"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.63.0
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.63.0
        x-stainless-raw-response:
          - "true"
        x-stainless-read-timeout:
          - "120.0"
        x-stainless-retry-count:
          - "0"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.7
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//jFPBjtMwEL3nK6w5t6skJNuS4+4egLJCiJ7YIsvrTBKDYxvbgV1V/Xfk
          pE3SUiRyiKx5M+/NPI/3ESEgSigI8IZ53hq5vEtVcpc9PMrm9mGLn77kHzbdRqwfN/Zj+xUWoUI/
          f0fuT1U3XLdGohdaDTC3yDwG1mSVxXGcrdZJD7S6RBnKauOXmV6mcZotk2SZxsfCRguODgryFBFC
          yL7/hxZViS9QkHhxirToHKsRijGJELBahggw54TzTHlYTCDXyqMKXatOyhngtZaUMykn4eHbz86T
          T0xKWnXsXY7OvK9/5/fbn5/X6/t8a0080xuoX03fUNUpPvozw8d4cSFGCCjW4iDoPK2kZv6imhBg
          tu5aVD50DvsdvOyg2EF+k+/gAGfJh+ja+dvMBotV55g8+nOMH0bDpa6N1c/uwj+ohBKuoRaZ6+eY
          2xmd1Hod6M5uDIzVrfHU6x+oAm2Svh1YYVqoGbo6gl57Jmfx7HZxhY+W6Jnor3TcIs54g+VUOm0T
          60qhZ0A0m/3vbq5xD/MLVf8P/QRwjsZjSY3FUvDziac0i+G9/SttdLlvGBzaX4Ij9QJtuI8SK9bJ
          YXnAvTqPLa2EqtEaK/r3AJWhK55UKUfO30B0iP4AAAD//wMAHBDcGhgEAAA=
      headers:
        CF-RAY:
          - 9149c11b48069e70-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Wed, 19 Feb 2025 22:39:41 GMT
        Server:
          - cloudflare
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        cf-cache-status:
          - DYNAMIC
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "366"
        openai-version:
          - "2020-10-01"
        strict-transport-security:
          - max-age=31536000; includeSubDomains; preload
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999958"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_f5ef35404524e4626afb761aa0e9d8d0
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state":{"tools":[{"type":"function","info":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false},"obs":[{"role":"user","content":"Cast
        ''5.5'' to a float, then to an integer, and finally use it to write a story
        of that many words."}],"training":false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "876"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"a85b565c-7a67-46fb-b50c-d015bbf601f5","fwd_id":"10fabc43-a8bc-4b33-ade9-123c08ea31cf"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_fuaH5espIgw5CTqQ88C5Trp0","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},"logprob":null},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_fuaH5espIgw5CTqQ88C5Trp0","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},0.0]'
      headers:
        content-length:
          - "1445"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages":[{"role":"user","content":"Cast ''5.5'' to a float, then to
        an integer, and finally use it to write a story of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_fuaH5espIgw5CTqQ88C5Trp0","type":"function","function":{"arguments":"{\"x\":
        \"5.5\"}","name":"cast_float"}}]},{"role":"tool","content":"5.5","name":"cast_float","tool_call_id":"call_fuaH5espIgw5CTqQ88C5Trp0"}],"model":"gpt-4o-2024-11-20","n":1,"temperature":0.1,"tool_choice":"required","tools":[{"type":"function","function":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1155"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.63.0
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.63.0
        x-stainless-raw-response:
          - "true"
        x-stainless-read-timeout:
          - "120.0"
        x-stainless-retry-count:
          - "0"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.7
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAA4xTTW/bMAy9+1cIPMeF7SbL4GOLbcCwQ1FgTYB1MFSZtrXKkirRa7Ig/33wR2yn
          S4H5YAh85HvkE3UIGAOZQ8pAVJxEbVV4k+j4Vjz4V/9An+7xy8Z9/yrv7jbl63ZzA4u2wjz9QkGn
          qithaquQpNE9LBxywpY1Xi+jKFquPyYdUJscVVtWWgqXJkyiZBnGcZhEQ2FlpEAPKfsRMMbYofu3
          Leocd5CyaHGK1Og9LxHSMYkxcEa1EeDeS09cEywmUBhNqNuudaPUDCBjVCa4UpNw/x1m58knrlRG
          n8v7by/bXbUtqv1m683zi7X4p5rp9dR72zVUNFqM/szwMZ6+EWMMNK+xF/SUybNZhgzuyqZGTW3f
          cHiE3SOkq6vVEc4Sj8Gl88+ZAQ6LxnM1ODPEj6PVypTWmSf/xjkopJa+yhxy300wNzI4qXU60Jzd
          FVhnaksZmWfULW28+tCzwrRKM3Q9gGSIq3n8enGBL8uRuOwuc9wfwUWF+VQ67RFvcmlmQDCb/d9u
          LnH380td/g/9BAiBljDPrMNcivOJpzSH7Ut7L210uWsYPLrfUmBGEl17HzkWvFH94oDfe8I6K6Qu
          0Vknu5cAhc3WIi4SgUJcQ3AM/gIAAP//AwD/4YRYEgQAAA==
      headers:
        CF-Cache-Status:
          - DYNAMIC
        CF-RAY:
          - 9149c11edc3e9e70-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Wed, 19 Feb 2025 22:39:42 GMT
        Server:
          - cloudflare
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "647"
        openai-version:
          - "2020-10-01"
        strict-transport-security:
          - max-age=31536000; includeSubDomains; preload
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999954"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_7799f1b333a6a2fd563957156e3a6392
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state":{"tools":[{"type":"function","info":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[{"role":"user","content":"Cast
        ''5.5'' to a float, then to an integer, and finally use it to write a story
        of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_fuaH5espIgw5CTqQ88C5Trp0","type":"function","function":{"arguments":"{\"x\":
        \"5.5\"}","name":"cast_float"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},"obs":[{"role":"tool","content":"5.5","name":"cast_float","tool_call_id":"call_fuaH5espIgw5CTqQ88C5Trp0"}],"training":false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1167"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"29798b77-4af6-40f2-9134-e6620419f59d","fwd_id":"d542edaf-c422-4b6b-9750-70c356765425"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_tFgRLqXxhXfhyWXsokqppezh","type":"function","function":{"arguments":"{\"x\":
          5.5}","name":"cast_int"}}]},"logprob":null},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_fuaH5espIgw5CTqQ88C5Trp0","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},{"role":"tool","content":"5.5","name":"cast_float","tool_call_id":"call_fuaH5espIgw5CTqQ88C5Trp0"},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_tFgRLqXxhXfhyWXsokqppezh","type":"function","function":{"arguments":"{\"x\":
          5.5}","name":"cast_int"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},0.0]'
      headers:
        content-length:
          - "1725"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
version: 1
