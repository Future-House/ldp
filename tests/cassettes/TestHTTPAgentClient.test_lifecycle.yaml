interactions:
  - request:
      body: ""
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: GET
      uri: http://testserver/info
    response:
      body:
        string: '{"agent_type":"SimpleAgent"}'
      headers:
        content-length:
          - "28"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '[{"type":"function","info":{"name":"print_story","description":"Print a
        story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","info":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}]'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "787"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/init_state
    response:
      body:
        string:
          '{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
          a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false}'
      headers:
        content-length:
          - "887"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages":[{"role":"user","content":"Cast ''5.5'' to a float, then to
        an integer, and finally use it to write a story of that many words."}],"model":"gpt-4o-2024-11-20","max_tokens":4096,"n":1,"temperature":0.1,"tool_choice":"required","tools":[{"type":"function","function":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1048"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.63.0
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.63.0
        x-stainless-raw-response:
          - "true"
        x-stainless-read-timeout:
          - "120.0"
        x-stainless-retry-count:
          - "0"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.9
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//jFPBbtswDL37KwSe4yJ2kqb2rUXRw9od1w1dBkOVaUepLGkS3SUL8u+D
          7dR2sgyYD4bAR75HPlH7gDGQOaQMxJqTqKwK72K1QaU+0W72jZbJ14cXfBI3j5v6cRNpmDQV5nWD
          gj6qroSprEKS5ggLh5ywYY2WsyRJkpvFtAUqk6NqykpL4dyE8TSeh1EUxtNj4dpIgR5S9j1gjLF9
          +29a1DluIWUtTRup0HteIqR9EmPgjGoiwL2XnrgmmAygMJpQN13rWqkRQMaoTHClBuHu24/Og09c
          qWz7/PDr3m/K3+7l6XMy377/vP8ye769Hel11DvbNlTUWvT+jPA+np6JMQaaV9gJesoKZTidVTMG
          3JV1hZqazmG/gu0K0hUsrhYrOMBJ8iG4dP4xssFhUXuujv4c44fecGVK68yrP/MPCqmlX2cOuW/n
          GNsZfKi1OlCf3BhYZypLGZk31A1tNE86VhgWaoQujyAZ4moUv76eXODLciQu2yvtt0hwscZ8KB22
          ide5NCMgGM3+dzeXuLv5pS7/h34AhEBLmGfWYS7F6cRDmsPmvf0rrXe5bRg8uncpMCOJrrmPHAte
          q255wO88YZUVUpforJPte4DCZksRFbFAIWYQHII/AAAA//8DAJmRB7UYBAAA
      headers:
        CF-RAY:
          - 914948ba0cfcceb5-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Wed, 19 Feb 2025 21:17:31 GMT
        Server:
          - cloudflare
        Set-Cookie:
          - __cf_bm=zm2Yd73yDBeMg0MCsPvK6roMklffDISEFXqR0zPJKAE-1739999851-1.0.1.1-Q_J3fsibpYSxs4J1NFnh6O1i4QxImLY8pOEVHDfuUK5X1ebLL4UpdjJ9WNxsg4HCT4_xTA8eRRx1iHFNRRWTEg;
            path=/; expires=Wed, 19-Feb-25 21:47:31 GMT; domain=.api.openai.com; HttpOnly;
            Secure; SameSite=None
          - _cfuvid=cCoK6X.1sTMn234Z.7tJvSRz.k8cn8BGkaT14re1MsQ-1739999851416-0.0.1.1-604800000;
            path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        cf-cache-status:
          - DYNAMIC
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "664"
        openai-version:
          - "2020-10-01"
        strict-transport-security:
          - max-age=31536000; includeSubDomains; preload
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29995878"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 8ms
        x-request-id:
          - req_bff2c4cbdfd6b035025635d6395543ac
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state":{"tools":[{"type":"function","info":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","info":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false},"obs":[{"role":"user","content":"Cast
        ''5.5'' to a float, then to an integer, and finally use it to write a story
        of that many words."}],"training":false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1039"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"3e8b0e2f-0289-4ef8-a97a-4a161d56d12e","fwd_id":"c6e7be34-7492-468b-8660-c9db09d5c523"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_xVFwDsjgzrZLM94xvqDU3VAA","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},"logprob":null},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
          a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_xVFwDsjgzrZLM94xvqDU3VAA","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},0.0]'
      headers:
        content-length:
          - "1612"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
version: 1
