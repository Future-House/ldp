interactions:
  - request:
      body: ""
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        host:
          - testserver
        user-agent:
          - python-httpx/0.27.2
      method: GET
      uri: http://testserver/info
    response:
      body:
        string: '{"agent_type":"SimpleAgent"}'
      headers:
        content-length:
          - "28"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '[{"type": "function", "info": {"name": "print_story", "description": "Print
        a story.", "parameters": {"type": "object", "properties": {"story": {"description":
        "Story to print.", "title": "Story", "type": "string"}}, "required": ["story"]}}},
        {"type": "function", "info": {"name": "cast_float", "description": "Cast the
        input argument x to a float.", "parameters": {"type": "object", "properties":
        {"x": {"title": "X", "type": "string"}}, "required": ["x"]}}}, {"type": "function",
        "info": {"name": "cast_int", "description": "Cast the input argument x to an
        integer.", "parameters": {"type": "object", "properties": {"x": {"title": "X",
        "type": "number"}}, "required": ["x"]}}}]'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "679"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.27.2
      method: POST
      uri: http://testserver/init_state
    response:
      body:
        string:
          '{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[]}'
      headers:
        content-length:
          - "660"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages": [{"role": "user", "content": "Cast ''5.5'' to a float, then
        to an integer, and finally use it to write a story of that many words."}], "model":
        "gpt-4o-2024-08-06", "temperature": 0.1, "tool_choice": "required", "tools":
        [{"type": "function", "function": {"name": "print_story", "description": "Print
        a story.", "parameters": {"type": "object", "properties": {"story": {"description":
        "Story to print.", "title": "Story", "type": "string"}}, "required": ["story"]}}},
        {"type": "function", "function": {"name": "cast_float", "description": "Cast
        the input argument x to a float.", "parameters": {"type": "object", "properties":
        {"x": {"title": "X", "type": "string"}}, "required": ["x"]}}}, {"type": "function",
        "function": {"name": "cast_int", "description": "Cast the input argument x to
        an integer.", "parameters": {"type": "object", "properties": {"x": {"title":
        "X", "type": "number"}}, "required": ["x"]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "924"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.47.1
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.47.1
        x-stainless-raw-response:
          - "true"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.5
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//dFJNc5swEL3zKzR7NhnAEDvckh6ar0vbmTbTusPIYsFyhKSgJXXi8X/v
          AA4QT6KDRrNPb9/T0+49xkDmkDIQG06issq/vJTffyHe/7tq7ujpy1W+jJvt78XD9vnH8w3MWoZZ
          b1HQG+tMmMoqJGl0D4saOWHbNVxEizBcxMuoAyqTo2pppSU/Nn4URLEfLP3g/EjcGCnQQcr+eIwx
          tu/21qLOcQcpC2ZvlQqd4yVCOlxiDGqj2gpw56QjrglmIyiMJtSta90oNQHIGJUJrtQo3K/95Dzm
          xJXKdhdzdfu4e53r659Kfv32quP724v8YaLXt36xnaGi0WLIZ4IP9fREjDHQvMJe0FFWKMPphM0Y
          8LpsKtTUOof9CnYrSFeQnCUrOMC7ywfvo/PfSQw1Fo3j6pjPsX4YAlemtLVZu5P8oJBauk1WI3fd
          O8CRsb12q9MpQPPur8DWprKUkXlE3TYM52HfD8ZRmqDxESRDXE3ryWesLEfisvvQYYZ6h1KXY4dg
          sNm9E9yLI6yyQuoSa1vLblqgsFkSJEE0PxfrHLyD9x8AAP//AwBsGPnyNgMAAA==
      headers:
        CF-Cache-Status:
          - DYNAMIC
        CF-RAY:
          - 8c7cb9c9cd741761-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Mon, 23 Sep 2024 18:51:22 GMT
        Server:
          - cloudflare
        Set-Cookie:
          - __cf_bm=yGC3Gvn.c8CbS08XvT7psJAl2E6HG3GubIXLXHKNezA-1727117482-1.0.1.1-zCn2l5mIgeNh7CxMq4lAUlheXCsjdXoRSIQLImasExVXoiuorwDnUac_X83ViPDCwS6Aud4pEuZCr_hRmy0E3g;
            path=/; expires=Mon, 23-Sep-24 19:21:22 GMT; domain=.api.openai.com; HttpOnly;
            Secure; SameSite=None
          - _cfuvid=WUw3ptUJ2FbhWMERk_t2RcYdvAdVh..nZSXaARbFV2Q-1727117482866-0.0.1.1-604800000;
            path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "216"
        openai-version:
          - "2020-10-01"
        strict-transport-security:
          - max-age=15552000; includeSubDomains; preload
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999958"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_9515e4f3f62abc05dde87ccbe250b7d8
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state": {"tools": [{"type": "function", "info": {"name": "print_story",
        "description": "Print a story.", "parameters": {"type": "object", "properties":
        {"story": {"description": "Story to print.", "title": "Story", "type": "string"}},
        "required": ["story"]}}}, {"type": "function", "info": {"name": "cast_float",
        "description": "Cast the input argument x to a float.", "parameters": {"type":
        "object", "properties": {"x": {"title": "X", "type": "string"}}, "required":
        ["x"]}}}, {"type": "function", "info": {"name": "cast_int", "description": "Cast
        the input argument x to an integer.", "parameters": {"type": "object", "properties":
        {"x": {"title": "X", "type": "number"}}, "required": ["x"]}}}], "messages":
        []}, "obs": [{"role": "user", "content": "Cast ''5.5'' to a float, then to an
        integer, and finally use it to write a story of that many words."}], "training":
        false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "882"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.27.2
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"8ebc6d2c-b07d-4f0c-b29a-08868955581d","fwd_id":"1730af95-3d69-4eb9-972d-ef21827bee76"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_x93lJkxz3nHVliGQzn4LJ9dX","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_x93lJkxz3nHVliGQzn4LJ9dX","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}]},0.0]'
      headers:
        content-length:
          - "1370"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages": [{"role": "user", "content": "Cast ''5.5'' to a float, then
        to an integer, and finally use it to write a story of that many words."}], "model":
        "gpt-4o-2024-08-06", "temperature": 0.1, "tool_choice": "required", "tools":
        [{"type": "function", "function": {"name": "print_story", "description": "Print
        a story.", "parameters": {"type": "object", "properties": {"story": {"description":
        "Story to print.", "title": "Story", "type": "string"}}, "required": ["story"]}}},
        {"type": "function", "function": {"name": "cast_float", "description": "Cast
        the input argument x to a float.", "parameters": {"type": "object", "properties":
        {"x": {"title": "X", "type": "string"}}, "required": ["x"]}}}, {"type": "function",
        "function": {"name": "cast_int", "description": "Cast the input argument x to
        an integer.", "parameters": {"type": "object", "properties": {"x": {"title":
        "X", "type": "number"}}, "required": ["x"]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "924"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.47.1
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.47.1
        x-stainless-raw-response:
          - "true"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.5
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//dFJdi9swEHz3rxD7HB+241yM364NLZS0DymlvWuKUZS1o1RfWGuaI+S/
          F9s52xfu9CDEjmZnNNpzwBjIPeQMxIGT0E6FDw9y8yt6/LrayZ8fjvPk+6fjv83q4+dyvVl9g1nL
          sLsjCnph3QmrnUKS1vSwqJETtl3jZbKM42WazTtA2z2qllY5ClMbJlGShlEWRvdX4sFKgR5y9jtg
          jLFzt7cWzR5PkLNo9lLR6D2vEPLhEmNQW9VWgHsvPXFDMBtBYQ2haV2bRqkJQNaqQnClRuF+nSfn
          MSeuVLGh4+PpsBbZveNx8qV8Ej+e1qtET/T61s+uM1Q2Rgz5TPChnt+IMQaGa+wFPRWlspxu2IwB
          r6tGo6HWOZy3cNpCvoXF3WILF3h1+RK8df4ziaHGsvFcXfO51i9D4MpWrrY7f5MflNJIfyhq5L57
          B3iyrtdudToFaF79FbjaakcF2b9o2obxPO77wThKEzS9gmSJq2l98R6r2CNx2X3oMEO9Q2mqsUM0
          2OzeCf7ZE+qilKbC2tWymxYoXZFFWbRIM8xiCC7BfwAAAP//AwAjCdgINgMAAA==
      headers:
        CF-Cache-Status:
          - DYNAMIC
        CF-RAY:
          - 8c7cb9cc7fc51761-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Mon, 23 Sep 2024 18:51:23 GMT
        Server:
          - cloudflare
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "234"
        openai-version:
          - "2020-10-01"
        strict-transport-security:
          - max-age=15552000; includeSubDomains; preload
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999958"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_06f27440f99ec1ccd7ddf778d64f6837
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state": {"tools": [{"type": "function", "info": {"name": "print_story",
        "description": "Print a story.", "parameters": {"type": "object", "properties":
        {"story": {"description": "Story to print.", "title": "Story", "type": "string"}},
        "required": ["story"]}}}, {"type": "function", "info": {"name": "cast_float",
        "description": "Cast the input argument x to a float.", "parameters": {"type":
        "object", "properties": {"x": {"title": "X", "type": "string"}}, "required":
        ["x"]}}}, {"type": "function", "info": {"name": "cast_int", "description": "Cast
        the input argument x to an integer.", "parameters": {"type": "object", "properties":
        {"x": {"title": "X", "type": "number"}}, "required": ["x"]}}}], "messages":
        []}, "obs": [{"role": "user", "content": "Cast ''5.5'' to a float, then to an
        integer, and finally use it to write a story of that many words."}], "training":
        false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "882"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.27.2
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"899a52a5-81ca-4eb5-adf5-657515a6eda9","fwd_id":"f74d13d4-3d05-4d4a-8f24-1517c139421f"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_RtjYxhLc86pa12JfZcUZLD2m","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_RtjYxhLc86pa12JfZcUZLD2m","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}]},0.0]'
      headers:
        content-length:
          - "1370"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages": [{"role": "user", "content": "Cast ''5.5'' to a float, then
        to an integer, and finally use it to write a story of that many words."}], "model":
        "gpt-4o-2024-08-06", "temperature": 0.1, "tool_choice": "required", "tools":
        [{"type": "function", "function": {"name": "print_story", "description": "Print
        a story.", "parameters": {"type": "object", "properties": {"story": {"description":
        "Story to print.", "title": "Story", "type": "string"}}, "required": ["story"]}}},
        {"type": "function", "function": {"name": "cast_float", "description": "Cast
        the input argument x to a float.", "parameters": {"type": "object", "properties":
        {"x": {"title": "X", "type": "string"}}, "required": ["x"]}}}, {"type": "function",
        "function": {"name": "cast_int", "description": "Cast the input argument x to
        an integer.", "parameters": {"type": "object", "properties": {"x": {"title":
        "X", "type": "number"}}, "required": ["x"]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "924"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.47.1
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.47.1
        x-stainless-raw-response:
          - "true"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.5
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//dFLRbpswFH3nK6z7HCogEBLe0mlaJlV7WLV10jIhx1yIO2N7tlHbRfn3
          ypACjTY/WNY9PvccH99TQAjwCgoC7Egda7UIt1v+9Yf6INnu/tPTDg8PyRdz+z2X9G96b2DhGerw
          iMy9sW6YarVAx5UcYGaQOvRd4zzJ4zhP18seaFWFwtMa7cJUhUmUpGG0DqPVhXhUnKGFgvwMCCHk
          1O/eoqzwGQoSLd4qLVpLG4RivEQIGCV8Bai13DoqHSwmkCnpUHrXshNiBjilRMmoEJPwsE6z85QT
          FaL8fHt3eMKYP/zZfTRbpHePm+SbXGYzvaH1i+4N1Z1kYz4zfKwXV2KEgKQtDoLWlbVQ1F2xCQFq
          mq5F6bxzOO3heQ/FHrKbbA9neHf5HPzr/GsWg8G6s1Rc8rnUz2PgQjXaqIO9yg9qLrk9lgap7d8B
          1ik9aHudXgG6d38F2qhWu9Kp3yh9w3gZD/1gGqUZml5ApxwV83r2P1ZZoaO8/9BxhgaHXDZTh2i0
          2b8T7It12JY1lw0abXg/LVDrMs9W6ypdRZsNBOfgFQAA//8DAPLB7K82AwAA
      headers:
        CF-Cache-Status:
          - DYNAMIC
        CF-RAY:
          - 8c7cb9cf4a171761-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Mon, 23 Sep 2024 18:51:23 GMT
        Server:
          - cloudflare
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "216"
        openai-version:
          - "2020-10-01"
        strict-transport-security:
          - max-age=15552000; includeSubDomains; preload
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999958"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_f72ea7696e84242e108799a51082a9e5
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state": {"tools": [{"type": "function", "info": {"name": "print_story",
        "description": "Print a story.", "parameters": {"type": "object", "properties":
        {"story": {"description": "Story to print.", "title": "Story", "type": "string"}},
        "required": ["story"]}}}, {"type": "function", "info": {"name": "cast_float",
        "description": "Cast the input argument x to a float.", "parameters": {"type":
        "object", "properties": {"x": {"title": "X", "type": "string"}}, "required":
        ["x"]}}}, {"type": "function", "info": {"name": "cast_int", "description": "Cast
        the input argument x to an integer.", "parameters": {"type": "object", "properties":
        {"x": {"title": "X", "type": "number"}}, "required": ["x"]}}}], "messages":
        []}, "obs": [{"role": "user", "content": "Cast ''5.5'' to a float, then to an
        integer, and finally use it to write a story of that many words."}], "training":
        false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "882"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.27.2
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"ced24f5c-e9f8-4f7b-bae1-42484e65129c","fwd_id":"792a40fc-d483-4bbe-a6bb-09ef9270c235"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_IBLbwe1iWqHErAeaLj92Un35","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_IBLbwe1iWqHErAeaLj92Un35","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}]},0.0]'
      headers:
        content-length:
          - "1370"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages": [{"role": "user", "content": "Cast ''5.5'' to a float, then
        to an integer, and finally use it to write a story of that many words."}, {"role":
        "assistant", "content": null, "function_call": null, "tool_calls": [{"id": "call_IBLbwe1iWqHErAeaLj92Un35",
        "type": "function", "function": {"arguments": "{\"x\": \"5.5\"}", "name": "cast_float"}}]},
        {"role": "tool", "content": "5.5", "name": "cast_float", "tool_call_id": "call_IBLbwe1iWqHErAeaLj92Un35"}],
        "model": "gpt-4o-2024-08-06", "temperature": 0.1, "tool_choice": "required",
        "tools": [{"type": "function", "function": {"name": "print_story", "description":
        "Print a story.", "parameters": {"type": "object", "properties": {"story": {"description":
        "Story to print.", "title": "Story", "type": "string"}}, "required": ["story"]}}},
        {"type": "function", "function": {"name": "cast_float", "description": "Cast
        the input argument x to a float.", "parameters": {"type": "object", "properties":
        {"x": {"title": "X", "type": "string"}}, "required": ["x"]}}}, {"type": "function",
        "function": {"name": "cast_int", "description": "Cast the input argument x to
        an integer.", "parameters": {"type": "object", "properties": {"x": {"title":
        "X", "type": "number"}}, "required": ["x"]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1240"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.47.1
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.47.1
        x-stainless-raw-response:
          - "true"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.5
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//dFLBbqMwEL3zFdacQwUUkpRb1V21UhWpqna1bbcr5BhD3BrbwsO2JMq/
          rwwUSLX1wbLmzcx78zwHjxAQOaQE2I4iq4z0Ly/F/eNd+3cZ3JXq7dfDw7f94+35j5+b1wtlYeEq
          9PaFM/yoOmO6MpKj0KqHWc0pctc1XEWrMFzF67gDKp1z6cpKg36s/SiIYj9Y+8FyKNxpwbiFlPz2
          CCHk0N1Oosr5O6QkWHxEKm4tLTmkYxIhUGvpIkCtFRapQlhMINMKuXKqVSPlDECtZcaolBNxfw6z
          9+QTlTL7vmzi3QYvWvoU7K/v25uncJ9s3q5mfH3r1nSCikax0Z8ZPsbTT2SEgKIV7wktZuJkliGD
          1mVTcYVONxye4f0Z0uQsOcJJ4tH73/vPzICaF42lcnBmiB9Hq6UuTa239pNzUAgl7C6rObXdBGBR
          m57b8XQM0Jz8EphaVwYz1K9cuYZhsu77wbREMzQeQNRI5Sy+ir6qynKOVHRfOW5Pr1CocuoQjDK7
          OcG2FnmVFUKVvDa16PYECpMlQRJE50u2zcE7ev8AAAD//wMAjfm+UTADAAA=
      headers:
        CF-Cache-Status:
          - DYNAMIC
        CF-RAY:
          - 8c7cb9d22ce91761-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Mon, 23 Sep 2024 18:51:24 GMT
        Server:
          - cloudflare
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "296"
        openai-version:
          - "2020-10-01"
        strict-transport-security:
          - max-age=15552000; includeSubDomains; preload
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999954"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_53cd7f35c32c33f784a35f73822bf15b
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state": {"tools": [{"type": "function", "info": {"name": "print_story",
        "description": "Print a story.", "parameters": {"type": "object", "properties":
        {"story": {"description": "Story to print.", "title": "Story", "type": "string"}},
        "required": ["story"]}}}, {"type": "function", "info": {"name": "cast_float",
        "description": "Cast the input argument x to a float.", "parameters": {"type":
        "object", "properties": {"x": {"title": "X", "type": "string"}}, "required":
        ["x"]}}}, {"type": "function", "info": {"name": "cast_int", "description": "Cast
        the input argument x to an integer.", "parameters": {"type": "object", "properties":
        {"x": {"title": "X", "type": "number"}}, "required": ["x"]}}}], "messages":
        [{"role": "user", "content": "Cast ''5.5'' to a float, then to an integer, and
        finally use it to write a story of that many words."}, {"role": "assistant",
        "content": null, "function_call": null, "tool_calls": [{"id": "call_IBLbwe1iWqHErAeaLj92Un35",
        "type": "function", "function": {"arguments": "{\"x\": \"5.5\"}", "name": "cast_float"}}]}]},
        "obs": [{"role": "tool", "content": "5.5", "name": "cast_float", "tool_call_id":
        "call_IBLbwe1iWqHErAeaLj92Un35"}], "training": false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1196"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.27.2
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"16f3b845-ce38-4da9-970b-e719981374ae","fwd_id":"fcb71621-e1ec-4a2c-9cba-fc9669479be9"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_E6u4hMt9yaZ0zGRyHZ1z5MwC","type":"function","function":{"arguments":"{\"x\":
          5.5}","name":"cast_int"}}]}},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_IBLbwe1iWqHErAeaLj92Un35","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},{"role":"tool","content":"5.5","name":"cast_float","tool_call_id":"call_IBLbwe1iWqHErAeaLj92Un35"},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_E6u4hMt9yaZ0zGRyHZ1z5MwC","type":"function","function":{"arguments":"{\"x\":
          5.5}","name":"cast_int"}}]}]},0.0]'
      headers:
        content-length:
          - "1650"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
version: 1
